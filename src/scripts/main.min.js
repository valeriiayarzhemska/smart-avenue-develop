"use strict";function countSlides(n,i){var e=$(".planning__popup-slides-counter span");e.length&&e.text(`Зображення ${n} / `+i)}const planningSwiperSettings={slidesPerView:1,spaceBetween:40,breakpoints:{666:{slidesPerView:1.8},800:{slidesPerView:2.75},1024:{slidesPerView:4,spaceBetween:30}},pagination:{el:".planning__swiper-pagination"},navigation:{nextEl:".planning__swiper-button-next",prevEl:".planning__swiper-button-prev"}};let planningSwiper=new Swiper(".planning__swiper",planningSwiperSettings);const planningPopupSwiper=new Swiper(".planning__popup-swiper",{loop:!0,slidesPerView:1,spaceBetween:20,on:{slideChange:function(){var n=this.slides.length;countSlides(this.realIndex+1,n)}},pagination:{el:".planning__popup-swiper-pagination"},navigation:{nextEl:".planning__popup-swiper-button-next",prevEl:".planning__popup-swiper-button-prev"}}),apartments={number:[1,2,3,4,5],section:[1,2,3],type:"S (Smart)",square:[22,27,28,31],price:[389e3,44e4,559e3,79e4],images:{plan22:"src/images/plan22.png",plan27:"src/images/plan27.png",plan28:"src/images/plan28.png",plan31:"src/images/plan31.png"}},apartmentsList=[];function getRandomFromArray(n){return Math.floor(Math.random()*n.length)}function filterApartmentsList(n){const i=[],e=[];$(".planning__filter-button-building--active").each(function(){i.push($(this).text())}),$(".planning__filter-button-section--active").each(function(){e.push($(this).text())}),addApartmentsList(n.filter(n=>!(0!==i.length&&!i.includes(n.number.toString())||0!==e.length&&!e.includes(n.section.toString()))))}function createApartmentsList(){for(let n=1;n<=15;n++){var i=getRandomFromArray(apartments.square),i={name:null,number:getRandomFromArray(apartments.number),section:getRandomFromArray(apartments.section),type:apartments.type,square:apartments.square[i],price:apartments.price[i],image:apartments.images["plan"+apartments.square[i]]};i.name=i.number+`C${i.square}K`,apartmentsList.push(i)}}function addApartmentsList(n){const t=$(".planning__swiper-wrapper");t.empty(),planningSwiper.destroy(),0<n.length?n.forEach(n=>{var i=$(`
        <div class='swiper-slide planning__swiper-slide'>
          <div class='planning__swiper-slide-image-container'>
            <img src='${n.image}' alt='building'>
          </div>
          <div class='planning__swiper-slide-title'>
            <h4>${n.number}C${n.square}K</h4>
          </div>
      `);const e=$(`
        <div class='planning__swiper-slide-list-container'>
          <ul class='planning__swiper-slide-list'>
          </ul>
        </div>
      `);[{type:"text",iconSrc:"src/images/icons/home-icon.svg",iconAlt:"building",title:"Тип квартири",description:n.type},{type:"text",iconSrc:"src/images/icons/square-icon.svg",iconAlt:"building",title:"Заг. площа",description:n.square+" м.кв"},{type:"link",iconSrc:"src/images/icons/plan-icon.svg",iconAlt:"building",title:"План поверху",description:"Відкрити"}].forEach(n=>{var i="link"===n.type;e.find(".planning__swiper-slide-list").append($(`
          <li class='planning__swiper-slide-item'>
            <div class='planning__swiper-slide-item-title-container'>
              <div class='planning__swiper-slide-item-icon-container'>
                <img src='${n.iconSrc}' alt='${n.iconAlt}'>
              </div>
              <div class='planning__swiper-slide-item-title'>
                <span>${n.title}</span>
              </div>
            </div>
            <div class='planning__swiper-slide-item-description'>
              ${i?`<a href='#' class='planning__swiper-slide-item-description-link'>${n.description}</a>`:`<span>${n.description}</span>`}
            </div>
          </li>
        `))}),i.append(e),i.append($(`
        <div class='planning__swiper-slide-item-price-container'>
          <span class='planning__swiper-slide-item-price-description'>Від</span>
          <span class='planning__swiper-slide-item-price-number'>${n.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}</span>
          <span class='planning__swiper-slide-item-price-currency'>грн</span>
        </div>
        <div class='planning__swiper-slide-buttons-container'>
          <div class='planning__swiper-slide-button button button--full-width'>
            <a href='#location-screen' class='button__link'>Замовити дзвінок
              <img src='src/images/icons/phone-white-icon.svg' alt='phone ring'>
            </a>
          </div>
          <div class='planning__swiper-slide-button button-transparent button--full-width'>
            <a href='src/files/presentation.pdf' download='presentation' class='button-transparent__link button-transparent__link--gray'>Завантажити в PDF
              <img src='src/images/icons/download-gray-icon.svg' alt='right arrow'>
            </a>
          </div>
        </div>
      `)),t.append(i)}):(n=$(`
      <div class='planning__swiper-slide-empty'>
        <div class='planning__swiper-slide-empty-title'>
          <h4>Наразі, таких квартир немає</h4>
        </div>
      </div>
    `),t.append(n)),planningSwiper=new Swiper(".planning__swiper",planningSwiperSettings)}$(document).ready(function(){createApartmentsList(),addApartmentsList(apartmentsList),$(".planning__filter-building-button").on("click",function(){$(this).toggleClass("planning__filter-button-building--active"),filterApartmentsList(apartmentsList)}),$(".planning__filter-section-button").on("click",function(){$(this).toggleClass("planning__filter-button-section--active"),filterApartmentsList(apartmentsList)}),$(".planning__popup-cancel-button").click(function(n){n.preventDefault(),$.fancybox.close()}),$(".planning__popup").fancybox({autoSize:!1,autoResize:!1,padding:0,fitToView:!1,closeClick:!1,openEffect:"none",closeEffect:"none",beforeShow:function(){$("body").addClass("page__container-scroll--disable")},afterClose:function(){$("body").removeClass("page__container-scroll--disable")},smallBtn:!1,toolbar:!1,scrolling:"hidden",helpers:{overlay:{locked:!0}}}),$(".planning__swiper-slide-item-description-link").on("click",function(n){n.preventDefault(),$(".planning__popup").trigger("click")})});
const errorText={name:{required:"Вкажіть своє імʼя, будь ласка",chars:"Імʼя може містити лише літери",minlength:"Імʼя повинно бути не коротшим, ніж 2 символи",maxlength:"Імʼя не повинно бути довшим, ніж 30 символів"},phone:{required:"Вкажіть свій номер, будь ласка",length:"Вкажіть коректний номер телефону, будь ласка"},message:{maxlength:"Повідомлення повинно бути до 150 символів"}};function disableScroll(){$("body").addClass("page__container-scroll--disable")}function clearForm(){$(".location__form")[0].reset(),$("body").removeClass("page__container-scroll--disable")}$(document).ready(function(){$(".location__form-popup-button").click(function(e){e.preventDefault(),$.fancybox.close()}),$(".location__form-popup").fancybox({autoSize:!1,autoResize:!1,padding:0,fitToView:!1,closeClick:!1,openEffect:"none",closeEffect:"none",beforeShow:disableScroll,afterClose:clearForm,smallBtn:!1,toolbar:!1,scrolling:"hidden",helpers:{overlay:{locked:!0}}}),$("#phone").mask("(00) 00 00 000"),$.validator.addMethod("alphabetic",function(e,o){return this.optional(o)||/^[a-zA-Zа-яА-Я\s]+$/.test(e)},errorText.name.chars),$("#form").submit(function(e){e.preventDefault()}).validate({errorElement:"span",rules:{name:{required:!0,minlength:2,maxlength:30,alphabetic:!0},phone:{required:!0,minlength:14,maxlength:14},message:{maxlength:150}},messages:{name:{required:errorText.name.required,minlength:errorText.name.minlength,maxlength:errorText.name.maxlength},phone:{required:errorText.phone.required,minlength:errorText.phone.length,maxlength:errorText.phone.length},message:{maxlength:errorText.message.maxlength}},highlight:function(e){$(e).closest(".location__form-input-label-container").find(".location__form-input-error").removeClass("location__form-has-error").addClass("location__form-has-success")},unhighlight:function(e){$(e).closest(".location__form-input-label-container").find(".location__form-input-error").removeClass("location__form-has-success").addClass("location__form-has-error")},submitHandler:function(){event.preventDefault(),$(".location__form-popup").trigger("click")}})});
const positionMarker={lat:50.37050643116534,lng:30.39561383862395},positionPopup={desktop:{lat:50.37050643116534,lng:30.396255},mobile:{lat:50.370312,lng:30.39561383862395}},positionCenteredOfMap={desktop:{lat:50.37050643116534,lng:30.39561383862395},mobile:{lat:50.370052,lng:30.39561383862395}},positions=getPositionBasedOnScreenWidth();let map,marker,popup;async function initMap(){var i=(await google.maps.importLibrary("maps"))["Map"];map=new i(document.getElementById("map"),{zoom:17,center:positions.centeredOfMapPosition,mapId:"smart-avenue"}),marker=new google.maps.Marker({map:map,position:positionMarker,icon:{url:"src/images/icons/pin-icon.svg",scaledSize:new google.maps.Size(110,110)}});class e extends google.maps.OverlayView{position;containerDiv;constructor(i,e){super(),this.position=i,e.classList.add("location__map-popup-bubble");i=document.createElement("div");i.classList.add("location__map-popup-bubble-anchor"),i.appendChild(e),this.containerDiv=document.createElement("div"),this.containerDiv.classList.add("location__map-popup-container"),this.containerDiv.appendChild(i)}onAdd(){this.getPanes().floatPane.appendChild(this.containerDiv)}onRemove(){this.containerDiv.parentElement&&this.containerDiv.parentElement.removeChild(this.containerDiv)}draw(){var i=this.getProjection().fromLatLngToDivPixel(this.position),e=Math.abs(i.x)<4e3&&Math.abs(i.y)<4e3?"block":"none";"block"==e&&(this.containerDiv.style.left=i.x+"px",this.containerDiv.style.top=i.y+"px"),this.containerDiv.style.display!==e&&(this.containerDiv.style.display=e)}}(popup=new e(new google.maps.LatLng(positions.popupPosition),document.getElementById("map-popup"))).setMap(map)}function getPositionBasedOnScreenWidth(){return window.innerWidth<=666?{popupPosition:positionPopup.mobile,centeredOfMapPosition:positionCenteredOfMap.mobile}:{popupPosition:positionPopup.desktop,centeredOfMapPosition:positionCenteredOfMap.desktop}}$(document).ready(function(){initMap()});
$(document).ready(function(){$(".js-select-language").select2(),$(".js-select-language").select2({minimumResultsForSearch:-1})});
const navIconBurger=$(".nav-mobile__icons--burger"),navIconCross=$(".nav-mobile__icons--cross"),navLists=$(".nav-mobile__lists"),navListsActive={transform:"translateX(-100%)",visibility:"hidden"},headerHeight=$(".nav__content").height(),headerHeightMobile=$(".nav-mobile__content").height();function hideNavList(){navIconBurger.removeClass("nav-mobile__icons--undisplayed"),navIconCross.addClass("nav-mobile__icons--undisplayed"),navLists.css(navListsActive),$("body").css("overflow","auto")}function handleScroll(){var n=0<$(window).scrollTop();$(".nav__content, .nav__link, .nav__item--subtitle, .nav__link--additional").toggleClass("nav__scrolling",n).toggleClass("nav__link--scrolling",n).toggleClass("nav__item--scrolling",n).toggleClass("nav__link--scrolling",n),$(".select2-selection__rendered").toggleClass("select2-text--scrolling",n)}$(document).ready(function(){$(".nav-mobile__icons--burger").on("click",function(){navIconBurger.addClass("nav-mobile__icons--undisplayed"),navIconCross.removeClass("nav-mobile__icons--undisplayed"),navLists.css({transform:"translateX(0)",visibility:"visible"}),$("body").css("overflow","hidden")}),$(".nav-mobile__icons--cross").on("click",hideNavList),handleScroll(),$(".nav__link, .button__link, .news__swiper-slide-title-link, .button-transparent__link").on("click",function(n){n.preventDefault();n=$(this).attr("href");$("html, body").animate({scrollTop:$(n).offset().top-headerHeight},0)}),$(".nav-mobile__link").on("click",function(n){n.preventDefault();n=$(this).attr("href");$("html, body").animate({scrollTop:$(n).offset().top-headerHeightMobile},0),hideNavList()}),$(document).scroll(function(){handleScroll()})});
function addTextProgressBar(e){document.querySelector("#swiper-mobile-slide-progress .inner").innerText=e+"/4"}function startAnimation(e){e.set(0),e.animate(1)}function stopAnimation(e){e.set(0)}const progressBarType={mobile:"mobile"};let progressBarArray=[],progressBarMobile;function createProgressCircle(e,r){e=new ProgressBar.Circle(e,{color:"#F03E3E",strokeWidth:5,duration:5e3,easing:"easeInOut",trailColor:"#E6E6E6",trailWidth:5});r===progressBarType.mobile?progressBarMobile=e:progressBarArray.push(e)}const mainSwiper=new Swiper(".main-screen__swiper",{direction:"horizontal",loop:!0,navigation:{nextEl:".main-screen__swiper-button-next",prevEl:".main-screen__swiper-button-prev"}}),advantagesSwiper=new Swiper(".advantages__swiper",{direction:"horizontal",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},on:{slideChange:function(){var e=this.realIndex,r=0!==e?e-1:e+1;startAnimation(progressBarArray[e]),stopAnimation(progressBarArray[r])}},pagination:{el:".advantages__swiper-pagination"},navigation:{nextEl:".advantages__swiper-button-next",prevEl:".advantages__swiper-button-prev"}}),advantagesSwiperMobile=new Swiper(".advantages__swiper-mobile",{direction:"horizontal",loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},on:{slideChange:function(){addTextProgressBar(this.realIndex+1),stopAnimation(progressBarMobile),startAnimation(progressBarMobile)}},pagination:{el:".advantages__swiper-pagination"},navigation:{nextEl:".advantages__swiper-button-next",prevEl:".advantages__swiper-button-prev"}}),newsSwiper=new Swiper(".news__swiper",{slidesPerView:1,spaceBetween:30,breakpoints:{666:{slidesPerView:2},1024:{slidesPerView:3}}}),informationSwiper=new Swiper(".information__swiper",{direction:"horizontal",loop:!0,pagination:{el:".information__swiper-pagination"},navigation:{nextEl:".information__swiper-button-next",prevEl:".information__swiper-button-prev"}}),gallerySwiper=new Swiper(".gallery__swiper",{centeredSlides:!0,loop:!0,slidesPerView:"auto",spaceBetween:20,pagination:{el:".gallery__swiper-pagination"},navigation:{nextEl:".gallery__swiper-button-next",prevEl:".gallery__swiper-button-prev"}});$(document).ready(function(){createProgressCircle("#swiper-slide-progress1"),startAnimation(progressBarArray[0]),createProgressCircle("#swiper-slide-progress2"),createProgressCircle("#swiper-slide-progress3"),createProgressCircle("#swiper-slide-progress4"),createProgressCircle("#swiper-mobile-slide-progress",progressBarType.mobile),startAnimation(progressBarMobile)});